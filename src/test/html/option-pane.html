<!DOCTYPE html>
<html>
<head>
  <title>Promise ComboBox Example</title>
  <style>
    #myDiv {
      display: none;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <button id="showButton">Show ComboBox</button>
  <div id="myDiv">
    <label for="myComboBox">Choose an option:</label>
    <select id="myComboBox">
      <option value="option1">Option 1</option>
      <option value="option2">Option 2</option>
      <option value="option3">Option 3</option>
    </select>
  </div>

  <script>
    // Function to show the div and prompt the user to choose an option
    function showComboBox() {
      return new Promise((resolve, reject) => {
        // Show the div with the combobox
        const div = document.getElementById('myDiv');
        div.style.display = 'block';

        // Listen for the combobox change event
        const comboBox = document.getElementById('myComboBox');
        comboBox.addEventListener('change', () => {
          const selectedOption = comboBox.value;
          // Hide the div
          div.style.display = 'none';

          // Resolve the promise with the selected option
          resolve(selectedOption);
        });
      });
    }

    // Event listener for the show button
    const showButton = document.getElementById('showButton');
    showButton.addEventListener('click', () => {
      showComboBox()
        .then(selectedOption => {
          // Handle the selected option
          console.log('Selected option:', selectedOption);
        })
        .catch(error => {
          // Handle any errors that may occur
          console.error('Error:', error);
        });
    });
  </script>
</body>
</html>
