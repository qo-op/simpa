!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Simpa=t():e.Simpa=t()}(this,(()=>(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);var t=function(){function e(){}return e.preventTouchMove=function(e){e.preventDefault()},e.dragStart=!1,e.pointerdown=function(t){var n,i=t.target;if(i.classList.contains("DialogTitleBar"))n=i;else if(null===(n=i.closest(".DialogTitleBar")))return;e.dragStart=!0,e.dialog=n.closest(".Dialog");var o=e.dialog.getBoundingClientRect();e.x=t.clientX-o.left,e.y=t.clientY-o.top,e.width=o.width,e.height=o.height,e.dialog.style.position="absolute",e.dialog.style.top=o.top+"px",e.dialog.style.left=o.left+"px",document.addEventListener("touchmove",e.preventTouchMove,{passive:!1}),document.addEventListener("pointermove",e.pointermove),document.addEventListener("pointerup",e.pointerup),document.addEventListener("pointerenter",e.pointerenter)},e.pointermove=function(t){e.dragStart&&(e.dialog.style.top=Math.min(Math.max(t.clientY-e.y,0),window.innerHeight-e.height)+"px",e.dialog.style.left=Math.min(Math.max(t.clientX-e.x,0),window.innerWidth-e.width)+"px")},e.pointerup=function(t){e.dragStart=!1,document.removeEventListener("touchmove",e.preventTouchMove),document.removeEventListener("pointermove",e.pointermove),document.removeEventListener("pointerup",e.pointerup),document.removeEventListener("pointerenter",e.pointerenter)},e.pointerenter=function(t){e.pointerup(t)},e}(),n=function(){function e(){}return e.getSelected=function(e){for(var t=0;t<e.children.length;t++){var n=e.children[t];if(void 0!==n.dataset.selected)return n}return null},e.open=function(e){e.dataset.open=""},e.close=function(t){t.dataset.closed="",t.removeAttribute("data-open"),e.select(t,t,null)},e.select=function(t,n,i){if(e.clearTimeout(t),n===t){if(null!==i&&void 0!==i.dataset.selected)return;t.querySelectorAll(":scope li[data-selected]").forEach((function(e){e.removeAttribute("data-selected")})),null!==i&&(i.dataset.selected="")}else null===i?e.setTimeout(t,(function(){for(var e=0;e<n.children.length;e++)n.children[e].removeAttribute("data-selected")}),250):e.setTimeout(t,(function(){for(var e=0;e<n.children.length;e++){var t=n.children[e];t===i?t.dataset.selected="":t.removeAttribute("data-selected")}}),250)},e.clearTimeout=function(e){void 0!==e.dataset.timeoutId&&clearTimeout(+e.dataset.timeoutId)},e.setTimeout=function(e,t,n){e.dataset.timeoutId=""+setTimeout(t,n)},e.pointerdown=function(t){var n,i=t.currentTarget,o=t.target;if(i===document){if(!(n=o.closest(".MenuBar")))return void document.querySelectorAll(".MenuBar").forEach((function(t){e.close(t)}));n.onpointerdown||(n.onpointerdown=e.pointerdown),n.onpointerup||(n.onpointerup=e.pointerup),"mouse"===t.pointerType&&(n.onmouseover||(n.onmouseover=e.mouseover),n.onmouseleave||(n.onmouseleave=e.mouseleave))}else n=i;try{var a=o.closest("li");if(null===a)return;var l=a.parentElement;if(null===l)return;e.getSelected(n)===a?void 0===n.dataset.open&&(n.dataset.closed="",e.open(n)):(e.select(n,l,a),n.dataset.closed="",void 0===n.dataset.open&&e.open(n))}finally{t.stopPropagation()}},e.pointerup=function(t){var n=t.target.closest("li");if(null!==n){var i=n.querySelector(":scope>input, :scope>:not(ul) input");null!==i&&("radio"===i.type?i.checked||(i.checked=!0):"checkbox"===i.type&&(i.checked=!i.checked));var o=t.currentTarget;n.parentElement!==o?null===n.querySelector(":scope>ul")&&null===n.querySelector(":scope>hr")&&e.close(o):void 0!==o.dataset.closed?o.removeAttribute("data-closed"):e.close(o)}},e.mouseover=function(t){var n=t.currentTarget;if(void 0!==n.dataset.open){var i=t.target.closest("li");if(null!==i){var o=i.parentElement;null!==o&&e.select(n,o,i)}}},e.mouseleave=function(t){var n=t.currentTarget;e.clearTimeout(n),n.querySelectorAll(":scope li[data-selected]").forEach((function(e){null===e.querySelector(":scope>ul")&&e.removeAttribute("data-selected")}))},e}(),i=(function(){function e(t,n,i,o,a,l,r,d,s,c){var u=this;if(this.handleInput=function(e,t,n,i){var o=document.body.querySelector(":scope>.ModalLayer");null!==o&&(o.style.visibility="hidden");var a=e.currentTarget;"OK"===a.textContent?t(i.value):t("");var l=a.closest(".Dialog");null==l||l.remove()},this.handleOption=function(e,t,n){var i=document.body.querySelector(":scope>.ModalLayer");null!==i&&(i.style.visibility="hidden");var o=e.currentTarget;t(o.textContent||"");var a=o.closest(".Dialog");null==a||a.remove()},this.dialog=document.createElement("div"),this.dialog.classList.add("Dialog"),this.dialog.classList.add("BorderLayout"),this.dialogTitleBar=e.createDialogTitleBar(),this.dialogTitleBar.classList.add("PageStart"),this.dialog.appendChild(this.dialogTitleBar),this.dialogTitleBar.classList.add("BorderLayout"),this.dialogTitleLabel=e.createDialogTitleLabel(a),this.dialogTitleLabel.style.paddingInline=".5em",this.dialogTitleBar.appendChild(this.dialogTitleLabel),this.dialogContentPane=e.createDialogContentPane(),this.dialog.appendChild(this.dialogContentPane),this.dialogContentPane.style.padding=".5em",this.dialogContentPane.classList.add("BorderLayout"),this.dialogMainPane=e.createDialogMainPane(),this.dialogMainPane.style.marginBlockEnd=".5em",this.dialogContentPane.appendChild(this.dialogMainPane),this.dialogMainPane.style.display="grid",this.dialogMainPane.style.rowGap=".5em",this.dialogIconPane=e.createDialogIconPane(),this.dialogIconPane.style.gridRow="1",this.dialogIconPane.style.gridColumn="1",this.dialogMainPane.appendChild(this.dialogIconPane),this.dialogIconPane.classList.add("CenterLayout"),d)this.dialogIconPane.style.marginInlineEnd=".5em",this.dialogIconPane.appendChild(d);else{var h=e.createDialogIcon(r);h&&(this.dialogIconPane.style.marginInlineEnd=".5em",this.dialogIconPane.appendChild(h))}this.dialogMessagePane=e.createDialogMessagePane(),this.dialogMessagePane.style.gridRow="1",this.dialogMessagePane.style.gridColumn="2",this.dialogMainPane.appendChild(this.dialogMessagePane),this.dialogMessagePane.classList.add("GridBagConstraints"),this.dialogMessagePane.dataset.anchor="center",this.dialogMessagePane.dataset.fill="horizontal",this.dialogMessageLabel=e.createDialogMessageLabel(o),this.dialogMessagePane.appendChild(this.dialogMessageLabel),i&&(this.dialogInputPane=e.createDialogInputPane(),this.dialogInputPane.style.gridRow="2",this.dialogInputPane.style.gridColumn="2",this.dialogMainPane.appendChild(this.dialogInputPane),this.dialogInputPane.classList.add("BorderLayout"),this.dialogInputPane.appendChild(i)),this.dialogButtonPane=e.createDialogButtonPane(),this.dialogButtonPane.classList.add("PageEnd"),this.dialogContentPane.appendChild(this.dialogButtonPane),this.dialogButtonPane.classList.add("FlowLayout"),this.dialogButtonPane.style.gap=".5em",this.dialogButtons=[],i?(this.dialogOkButton=e.createDialogButton("OK"),this.dialogButtonPane.appendChild(this.dialogOkButton),this.dialogButtons.push(this.dialogOkButton),this.dialogOkButton.onclick=function(e){return u.handleInput(e,t,n,i)},"INPUT"===i.tagName&&"text"===i.getAttribute("type")&&(i.onkeydown=function(e){var t;"Enter"===e.key&&(e.preventDefault(),null===(t=u.dialogOkButton)||void 0===t||t.click())}),this.dialogCancelButton=e.createDialogButton("Cancel"),this.dialogButtonPane.appendChild(this.dialogCancelButton),this.dialogButtons.push(this.dialogCancelButton),this.dialogCancelButton.onclick=function(e){return u.handleInput(e,t,n,i)}):s?s.forEach((function(i){var o=e.createDialogButton(i);u.dialogButtonPane.appendChild(o),u.dialogButtons.push(o),o.onclick=function(e){return u.handleOption(e,t,n)}})):("default"!==l&&"ok-cancel"!==l||(this.dialogOkButton=e.createDialogButton("OK"),this.dialogButtonPane.appendChild(this.dialogOkButton),this.dialogButtons.push(this.dialogOkButton),this.dialogOkButton.onclick=function(e){return u.handleOption(e,t,n)}),"yes-no"!==l&&"yes-no-cancel"!==l||(this.dialogYesButton=e.createDialogButton("Yes"),this.dialogButtonPane.appendChild(this.dialogYesButton),this.dialogButtons.push(this.dialogYesButton),this.dialogYesButton.onclick=function(e){return u.handleOption(e,t,n)}),"yes-no"!==l&&"yes-no-cancel"!==l||(this.dialogNoButton=e.createDialogButton("No"),this.dialogButtonPane.appendChild(this.dialogNoButton),this.dialogButtons.push(this.dialogNoButton),this.dialogNoButton.onclick=function(e){return u.handleOption(e,t,n)}),"yes-no-cancel"!==l&&"ok-cancel"!==l||(this.dialogCancelButton=e.createDialogButton("Cancel"),this.dialogButtonPane.appendChild(this.dialogCancelButton),this.dialogButtons.push(this.dialogCancelButton),this.dialogCancelButton.onclick=function(e){return u.handleOption(e,t,n)}))}e.createDialogTitleBar=function(){var e=document.createElement("div");return e.classList.add("DialogTitleBar"),e},e.createDialogTitleLabel=function(e){var t=document.createElement("span");return t.textContent=e,t},e.createDialogContentPane=function(){return document.createElement("div")},e.createDialogMainPane=function(){return document.createElement("div")},e.createDialogIconPane=function(){return document.createElement("div")},e.createDialogIcon=function(t){switch(t){case"error":var n=e.createErrorIcon();return n.style.fill="Red",n.style.width="24px",n;case"information":var i=e.createInformationIcon();return i.style.fill="Blue",i.style.width="24px",i;case"warning":var o=e.createWarningIcon();return o.style.fill="Gold",o.style.width="24px",o;case"question":var a=e.createQuestionIcon();return a.style.fill="Green",a.style.width="24px",a;case"plain":return}},e.createDialogMessagePane=function(){return document.createElement("div")},e.createDialogMessageLabel=function(e){var t=document.createElement("div");return t.classList.add("CenterLayout"),t.textContent=e,t},e.createDialogInputPane=function(){return document.createElement("div")},e.createDialogButtonPane=function(){return document.createElement("div")},e.createDialogButton=function(e){var t=document.createElement("button");return t.textContent=e,t},e.createErrorIcon=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"),e.appendChild(t),e},e.createInformationIcon=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"),e.appendChild(t),e},e.createWarningIcon=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"),e.appendChild(t),e},e.createQuestionIcon=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("viewBox","0 0 24 24");var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"),e.appendChild(t),e},e.showMessageDialog=function(t,n,i,o){return void 0===t&&(t=""),void 0===n&&(n="Message"),void 0===i&&(i="information"),new Promise(o?function(a,l){var r=document.createElement("img");r.alt="Custom icon",r.onload=function(){var o;r.style.width=r.naturalWidth+"px",r.style.height=r.naturalHeight+"px";var d=document.body.querySelector(":scope>.ModalLayer");null===d&&((d=document.createElement("div")).classList.add("ModalLayer"),d.classList.add("CenterLayout"),d.style.visibility="inherit",document.body.appendChild(d));var s=new e(a,l,null,t,n,"default",i,r);d.appendChild(s.dialog),d.style.visibility="inherit",null===(o=s.dialogOkButton)||void 0===o||o.focus()},r.onerror=function(){l(new Error("Failed to load image '".concat(o,"'")))},r.src=o}:function(o,a){var l,r=document.body.querySelector(":scope>.ModalLayer");null===r&&((r=document.createElement("div")).classList.add("ModalLayer"),r.classList.add("CenterLayout"),r.style.visibility="inherit",document.body.appendChild(r));var d=new e(o,a,null,t,n,"default",i);r.appendChild(d.dialog),r.style.visibility="inherit",null===(l=d.dialogOkButton)||void 0===l||l.focus()})},e.showConfirmDialog=function(t,n,i,o,a){return void 0===t&&(t=""),void 0===n&&(n="Message"),void 0===i&&(i="yes-no-cancel"),new Promise(a?function(l,r){var d=document.createElement("img");d.alt="Custom icon",d.onload=function(){var a;d.style.width=d.naturalWidth+"px",d.style.height=d.naturalHeight+"px";var s=document.body.querySelector(":scope>.ModalLayer");null===s&&((s=document.createElement("div")).classList.add("ModalLayer"),s.classList.add("CenterLayout"),s.style.visibility="inherit",document.body.appendChild(s));var c=new e(l,r,null,t,n,i,o||("default"!==i?"question":"information"),d);s.appendChild(c.dialog),s.style.visibility="inherit",c.dialogOkButton?c.dialogOkButton.focus():null===(a=c.dialogYesButton)||void 0===a||a.focus()},d.onerror=function(){r(new Error("Failed to load image '".concat(a,"'")))},d.src=a}:function(a,l){var r,d=document.body.querySelector(":scope>.ModalLayer");null===d&&((d=document.createElement("div")).classList.add("ModalLayer"),d.classList.add("CenterLayout"),d.style.visibility="inherit",document.body.appendChild(d));var s=new e(a,l,null,t,n,i,o||("default"!==i?"question":"information"));d.appendChild(s.dialog),d.style.visibility="inherit",s.dialogOkButton?s.dialogOkButton.focus():null===(r=s.dialogYesButton)||void 0===r||r.focus()})},e.showInputDialog=function(t,n,i,o,a,l){var r;if(void 0===t&&(t=""),void 0===n&&(n="Message"),void 0===i&&(i="question"),a){var d=document.createElement("select");a.forEach((function(e){var t=document.createElement("option");t.value=e,t.text=e,d.appendChild(t)})),l&&(d.value=l),r=d}else{var s=document.createElement("input");s.type="text",l&&(s.value=l),r=s}return new Promise(o?function(a,l){var d=document.createElement("img");d.alt="Custom icon",d.onload=function(){d.style.width=d.naturalWidth+"px",d.style.height=d.naturalHeight+"px";var o=document.body.querySelector(":scope>.ModalLayer");null===o&&((o=document.createElement("div")).classList.add("ModalLayer"),o.classList.add("CenterLayout"),o.style.visibility="inherit",document.body.appendChild(o));var s=new e(a,l,r,t,n,"ok-cancel",i,d);o.appendChild(s.dialog),o.style.visibility="inherit",r.focus()},d.onerror=function(){l(new Error("Failed to load image '".concat(o,"'")))},d.src=o}:function(o,a){var l=document.body.querySelector(":scope>.ModalLayer");null===l&&((l=document.createElement("div")).classList.add("ModalLayer"),l.classList.add("CenterLayout"),l.style.visibility="inherit",document.body.appendChild(l));var d=new e(o,a,r,t,n,"ok-cancel",i);l.appendChild(d.dialog),l.style.visibility="inherit",r.focus()})},e.showOptionDialog=function(t,n,i,o,a,l,r){return void 0===t&&(t=""),void 0===n&&(n="Message"),void 0===i&&(i="yes-no-cancel"),new Promise(a?function(d,s){var c=document.createElement("img");c.alt="Custom icon",c.onload=function(){var a;c.style.width=c.naturalWidth+"px",c.style.height=c.naturalHeight+"px";var u=document.body.querySelector(":scope>.ModalLayer");null===u&&((u=document.createElement("div")).classList.add("ModalLayer"),u.classList.add("CenterLayout"),u.style.visibility="inherit",document.body.appendChild(u));var h=new e(d,s,null,t,n,i,o||("default"!==i?"question":"information"),c,l,r);if(u.appendChild(h.dialog),u.style.visibility="inherit",r){var p=l.indexOf(r);h.dialogButtons[p].focus()}else h.dialogOkButton?h.dialogOkButton.focus():null===(a=h.dialogYesButton)||void 0===a||a.focus()},c.onerror=function(){s(new Error("Failed to load image '".concat(a,"'")))},c.src=a}:function(a,d){var s=document.body.querySelector(":scope>.ModalLayer");null===s&&((s=document.createElement("div")).classList.add("ModalLayer"),s.classList.add("CenterLayout"),s.style.visibility="inherit",document.body.appendChild(s));var c=new e(a,d,null,t,n,i,o||("default"!==i?"question":"information"),void 0,l,r);s.appendChild(c.dialog),s.style.visibility="inherit"})}}(),function(){function e(){}return e.preventTouchMove=function(e){e.preventDefault()},e.dragStart=!1,e.verticalSplit=!1,e.pointerdown=function(t){var n=t.target;if(n.classList.contains("SplitPaneDivider")){e.dragStart=!0,e.splitPaneDivider=n,e.splitPane=e.splitPaneDivider.closest(".SplitPane"),e.leftComponent=e.splitPane.children[0],e.rightComponent=e.splitPane.children[2];var i=e.leftComponent.getBoundingClientRect(),o=e.rightComponent.getBoundingClientRect();if(e.verticalSplit="vertical-split"===e.splitPane.dataset.orientation,e.verticalSplit){e.maximumDividerLocation=i.height+o.height;var a=100*i.height/e.maximumDividerLocation;e.leftComponent.style.height=a+"%",e.rightComponent.style.height=100-a+"%",e.offset=t.clientY-i.height}else e.maximumDividerLocation=i.width+o.width,a=100*i.width/e.maximumDividerLocation,e.leftComponent.style.width=a+"%",e.rightComponent.style.width=100-a+"%",e.offset=t.clientX-i.width;e.verticalSplit?document.body.style.cursor="ns-resize":document.body.style.cursor="ew-resize",document.addEventListener("touchmove",e.preventTouchMove,{passive:!1}),document.addEventListener("pointermove",e.pointermove),document.addEventListener("pointerup",e.pointerup),e.dragLayer=document.body.querySelector(":scope>.DragLayer"),null===e.dragLayer&&(e.dragLayer=document.createElement("div"),e.dragLayer.classList.add("DragLayer"),document.body.appendChild(e.dragLayer)),e.dragLayer.style.visibility="",t.preventDefault()}},e.pointermove=function(t){if(e.dragStart){if(e.verticalSplit){var n=100*Math.min(Math.max(t.clientY-e.offset,0),e.maximumDividerLocation)/e.maximumDividerLocation;e.leftComponent.style.height=n+"%",e.rightComponent.style.height=100-n+"%"}else n=100*Math.min(Math.max(t.clientX-e.offset,0),e.maximumDividerLocation)/e.maximumDividerLocation,e.leftComponent.style.width=n+"%",e.rightComponent.style.width=100-n+"%";t.preventDefault()}},e.pointerup=function(t){e.dragStart=!1,document.body.style.cursor="",document.removeEventListener("touchmove",e.preventTouchMove),document.removeEventListener("pointermove",e.pointermove),document.removeEventListener("pointerup",e.pointerup),null!==e.dragLayer&&(e.dragLayer.style.visibility="hidden")},e}()),o=function(){function e(){}return e.setSelectedTabComponent=function(e,t,n){for(var i=null,o=0;o<e.children.length;o++)if((r=e.children[o])===n){var l=r.getAttribute("value");i=a.show(t,l||"")}if(i)for(o=0;o<e.children.length;o++){var r;(r=e.children[o]).tabIndex=r===n?-1:0}return i},e}(),a=function(){function e(){}return e.show=function(t,n){for(var i=0;i<t.children.length;i++)if(t.children[i].dataset.name===n)return e.setSelectedIndex(t,i);return null},e.setSelectedIndex=function(e,t){for(var n=null,i=0;i<e.children.length;i++){var o=e.children[i];i===t?(o.style.visibility="",o.focus(),n=o):o.style.visibility="hidden"}return n},e}(),l=function(){function e(){}return e.pointerdown=function(e){var t=e.target,n=t.parentElement;if(n){var i=n.parentElement;if(i&&i.classList.contains("TabbedPane")){var a=i.children[i.childElementCount-1];null!==a&&a!==n&&o.setSelectedTabComponent(n,a,t)}}},e}();return window.Dialog&&document.removeEventListener("pointerdown",window.Dialog.pointerdown),document.addEventListener("pointerdown",t.pointerdown),window.MenuBar&&document.removeEventListener("pointerdown",window.MenuBar.pointerdown),document.addEventListener("pointerdown",n.pointerdown),window.SplitPane&&document.removeEventListener("pointerdown",window.SplitPane.pointerdown),document.addEventListener("pointerdown",i.pointerdown),window.TabComponent&&document.removeEventListener("pointerdown",window.TabComponent.pointerdown),document.addEventListener("pointerdown",l.pointerdown),e})()));
//# sourceMappingURL=simpa.js.map